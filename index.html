<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Cobblemon Mastery Guide</title>

  <!-- SEO — meta tagi -->
  <meta name="description" content="Najlepsza polska baza buildów competitive Cobblemon. Poradnik IV, EV, Nature, Moveset dla wszystkich Pokémonów w Minecraft." />
  <meta name="keywords" content="Cobblemon, Pokemon, Minecraft, buildy, poradnik, competitive, IV, EV, Nature, moveset, Pokémon" />
  <meta property="og:title" content="Cobblemon Mastery Guide" />
  <meta property="og:description" content="Najlepsza polska baza buildów competitive Cobblemon." />
  <meta property="og:type" content="website" />
  <meta name="robots" content="index, follow" />

  <!-- Favicon (base64 inline) -->
  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAR3SURBVFhH7VdNSGNXFD4vqZlR8xLzkhlf3ktmgv2BMuiuCLYLKUFxMZROp0w7yLTQRcGl1KpgS8GFuGlBt4KUFtoM/dkJxS6ycOFu0Hamlhn/Bxx/GjFRC2reV87zXRNvfvybdtUPDi/vvnvP991zzz33huh/nA9VRPQqETUTUZvz5Hdu/9dwiYjeI6IfiegpEaGIcfsPRHTH6f/c8AER/SkTai4XDLcbIZcL7kIxM0R0T3Z0VgSI6Cfh1KMouF1ZiW80DY90HZuGgb9NE1umice6jkQwiDuVlahWlHwhHDH2c2ZEiOh34ehuVRX+0HXg2rVDi0YPLRLJ/XbaH1y9ig+rqvJF/EZEpkxQDn4iesSDKxQFX2tajpQJT2E7hoFvNQ01LpcQwZPxyUSl8LMg/+XKFeD69QKCk2zHNJE2DPwaCiGQE8HLeSI4g+0B9szPQS5sNRzGlmEgoWlQcsvxrkyYjwoiesIdb1VWHoa9iONjVmZZ9kwTc7qOXcPAx9XVQsBjh6co3hah56wu6dxJOCZYNwzsc1uJHHkWDuNpOIyHtbX2tnVEvCUTC9znDjcvXy49+2gUGdPEJ6qKCBFcRIgSoUtVsW2aBSI4D57oOrYNAx/lovC9TMzgyrV8tPbFBESjSEcieM3jsR25vV68cuMGXI7jRo8HGREhZwxHaV7X8Zdh4L6mCQFLROSRBbxERFme0TPDAGKx3J4XFovhU1W1nbS1tVnLy8tgLC0toaWlxW7vVVVLHsuz5zxY1nWxLbNE9KIs4A12cElR0O/z4cuamqIWUBT4/H5sbGzY5AJra2vw+nwIKorF/b7Ksy98PnyuqvhMVfPzoEkWEHc+nGgNDQ3HyAXq6+sL+paxN2UBr/OH2tpaDA8PY2hoqKhpmgav12vPOB+rq6t2eygUKhjT399vW1dXl1VRUSEEFETAzgF2UA49PT22g3g8jvn5ebuNn/F43OL2vr4+eQi2t7exv7+PyclJSzk8qDgH6mQBnJWcnZiYmLBkJwKZTAaNjY1Hoayrqzv63dTUhJ2dnWP99/b2MDc3h62tLQwODtoiiWixVDFKcIfOzs6SAhhM0t3djVgsBg4pP3t7e7G7uyt3RTqdxuzsLDY3N9Hc3CwEfCcTC3CF4nW00ul0WRGMg4MDpFIpZLNZ+dMRVlZW7HwZHx+33G63iNZNmViAw8K1mhOmtNdTgsO/sLBgh1/kiHOzekEmzsdt7qgoipVMJi8kgncGJ+DAwIAgZ7slExYDXywRDAatqampc4ngfGDy0dHR/NDzWXMqqEQ0zYM0TbPGxsbOLEJkvStX+aaIyCsTlUPYGWQ76OjoyC4uLp6YmIxkMmnxWZEX9gdEpMsEpwHfDe0jmo0rXXt7ezaRSGRnZmasVCplZTIZa3193ZqenrZGRkas1tZWUWyE8dF76rtgKdwlood5TjlJEQgE7NLt9/vzCYXxJfR92dFFwFv0HWdGXMm4nOYT8vuCU2Q408tutYuCLy8vOwcYn6L85Pfn+nfsP8E/5+M/g2IKie4AAAAASUVORK5CYII=">

  <!-- Czcionki Google (asynchroniczne ładowanie) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=VT323&family=Press+Start+2P&display=swap" rel="stylesheet" media="print" onload="this.media='all'" />
  <noscript><link href="https://fonts.googleapis.com/css2?family=VT323&family=Press+Start+2P&display=swap" rel="stylesheet" /></noscript>

  <!-- Preconnect do PokeAPI -->
  <link rel="preconnect" href="https://pokeapi.co" />
  <link rel="preconnect" href="https://raw.githubusercontent.com" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />

  <!-- AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9885277201663964"
     crossorigin="anonymous"></script>

  <!-- Timeout fallback — wyświetla komunikat gdy strona ładuje się zbyt długo -->
  <script>
  (function(){
    var COB_LOAD_TIMER = setTimeout(function(){
      var m = document.getElementById('main-area');
      if(!m || !m.innerHTML.trim() || m.innerHTML.indexOf('Ladowanie')>-1){
        var d = document.createElement('div');
        d.id='cob-load-fallback';
        d.style.cssText='position:fixed;top:0;left:0;right:0;bottom:0;z-index:99999;background:#1a1a1a;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:monospace;color:#f0f0f0;text-align:center;padding:24px';
        d.innerHTML='<div style="font-size:28px;margin-bottom:16px">\u23f3</div>'
          +'<div style="font-size:20px;margin-bottom:12px;color:#ffaa00">Strona \u0142aduje si\u0119 zbyt d\u0142ugo...</div>'
          +'<div style="font-size:16px;color:#aaa;margin-bottom:20px">Mo\u017cliwe przyczyny: wolne po\u0142\u0105czenie, blokowanie skrypt\u00f3w lub problem z PokeAPI.</div>'
          +'<button onclick="location.reload()" style="font-family:monospace;font-size:18px;background:#555;color:#fff;border:2px solid #888;padding:8px 24px;cursor:pointer">\ud83d\udd04 Spr\u00f3buj od\u015bwie\u017cy\u0107</button>'
          +'<div style="font-size:13px;color:#666;margin-top:16px">Je\u015bli problem si\u0119 powtarza, wyczy\u015b\u0107 dane strony (Ctrl+Shift+Del) i spr\u00f3buj ponownie.</div>';
        document.body.appendChild(d);
      }
    }, 12000);
    window._cobClearLoadTimer = function(){ clearTimeout(COB_LOAD_TIMER); var f=document.getElementById('cob-load-fallback'); if(f)f.remove(); };
  })();
  </script>

  <!-- Arkusze stylów (modularny CSS) — v5 cache-bust -->
  <link rel="stylesheet" href="css/variables.css?v=12" />
  <link rel="stylesheet" href="css/base.css?v=12" />
  <link rel="stylesheet" href="css/layout.css?v=12" />
  <link rel="stylesheet" href="css/components.css?v=12" />
  <link rel="stylesheet" href="css/pokemon.css?v=12" />
  <link rel="stylesheet" href="css/competitive.css?v=12" />
  <link rel="stylesheet" href="css/pages.css?v=12" />
  <link rel="stylesheet" href="css/evolution.css?v=12" />
  <link rel="stylesheet" href="css/glassmorphism.css?v=12" />
  <link rel="stylesheet" href="css/responsive.css?v=12" />
  <link rel="stylesheet" href="assets/styles.css?v=12" />
</head>
<body>

<header>
  <button class="hamburger-btn" onclick="toggleHamburger()" title="Menu">&#9776;</button>
  <div>
    <a href="index.html" onclick="showPage('welcome');return false;" class="header-title" style="text-decoration:none;color:inherit;cursor:pointer">&#9876; Cobblemon Mastery Guide</a>
    <div class="header-subtitle">Serwerowa Baza Cobblemon &middot; Minecraft Mod</div>
  </div>
  <div class="lang-toggle" id="lang-toggle">
    <button class="lang-btn active" data-lang="pl" onclick="setLang('pl')">PL</button>
    <button class="lang-btn" data-lang="en" onclick="setLang('en')">EN</button>
  </div>
  <div class="header-right" id="header-right">
    <span class="mc-badge" id="badge-gen">&#127807; Generacje 1&ndash;9</span>
    <span class="mc-badge">&#9874; PokeAPI</span>
    <a href="arena.html" class="mc-btn" id="btn-battle" style="background:rgba(140,40,40,0.75);border-color:rgba(255,80,80,0.3);box-shadow:0 0 10px rgba(255,60,60,0.15);text-decoration:none">&#9876; Arena Walki</a>
    <button class="mc-btn" onclick="showPage('team-analyzer')" id="btn-team" style="background:rgba(40,100,110,0.75);border-color:rgba(80,200,220,0.3);box-shadow:0 0 10px rgba(80,200,220,0.15)">&#9876; Zespół PvP</button>
    <button class="mc-btn" onclick="showPage('ranking')" id="btn-ranking" style="background:rgba(70,40,120,0.75);border-color:rgba(160,100,255,0.3);box-shadow:0 0 10px rgba(160,100,255,0.15)">&#127942; Ranking Typów</button>
    <button class="mc-btn" onclick="showPage('type-chart')" id="btn-typechart" style="background:rgba(40,50,110,0.75);border-color:rgba(100,120,255,0.3);box-shadow:0 0 10px rgba(100,120,255,0.15)">&#9878; Tabela Typów</button>
    <button class="mc-btn" onclick="showPage('items')" id="btn-items" style="background:rgba(100,80,30,0.75);border-color:rgba(220,180,60,0.3);box-shadow:0 0 10px rgba(220,180,60,0.15)">&#128230; Przedmioty</button>
    <button class="mc-btn" onclick="showPage('apricorns')" id="btn-apricorns" style="background:rgba(40,100,40,0.75);border-color:rgba(80,220,80,0.3);box-shadow:0 0 10px rgba(80,220,80,0.15)">&#127822; Apricorny</button>
    <button class="mc-btn" onclick="showPage('welcome')" id="btn-start" style="background:rgba(30,80,50,0.75);border-color:rgba(60,200,100,0.3);box-shadow:0 0 10px rgba(60,200,100,0.15)">&#127968; Start</button>
  </div>
</header>

<!-- Baner wsparcia -->
<div id="ad-top" class="donate-section">
  <h2>💚 <span id="donate-title">Wesprzyj rozwój projektu</span></h2>
  <p id="donate-desc">Cobblemon Mastery Guide to darmowy projekt. Jeśli pomaga Ci w grze, rozważ wsparcie!</p>
  <button class="donate-btn" id="donate-btn" onclick="window.open('https://buycoffee.to/cobblemonmg','_blank')">☕ <span id="donate-btn-text">Postaw kawkę</span></button>
</div>

<!-- Overlay sidebara (mobile) -->
<div class="sidebar-overlay" id="sidebar-overlay" onclick="toggleHamburger()"></div>

<div class="app-layout">
  <!-- Sidebar z listą Pokémonów -->
  <aside id="sidebar">
    <div class="sidebar-search">
      <button class="sidebar-close" onclick="toggleHamburger()" title="Zamknij">&times;</button>
      <label>&#128269; SZUKAJ POK&Eacute;MONA</label>
      <input class="mc-input" id="search-input" type="text" placeholder="np. Pikachu..." autocomplete="off" />
    </div>
    <div class="gen-filters" id="gen-filters">
      <button class="gen-filter-btn active" data-gen="0">Wszystkie</button>
      <button class="gen-filter-btn" data-gen="1">Gen I</button>
      <button class="gen-filter-btn" data-gen="2">Gen II</button>
      <button class="gen-filter-btn" data-gen="3">Gen III</button>
      <button class="gen-filter-btn" data-gen="4">Gen IV</button>
      <button class="gen-filter-btn" data-gen="5">Gen V</button>
      <button class="gen-filter-btn" data-gen="6">Gen VI</button>
      <button class="gen-filter-btn" data-gen="7">Gen VII</button>
      <button class="gen-filter-btn" data-gen="8">Gen VIII</button>
      <button class="gen-filter-btn" data-gen="9">Gen IX</button>
    </div>
    <div id="pokemon-count">Ladowanie...</div>
    <div class="pokemon-list" id="pokemon-list"></div>
  </aside>

  <!-- Główny obszar treści -->
  <main class="main-area" id="main-area"></main>
</div>

<!-- Pasek statusu -->
<div id="status-bar">
  <div class="spinner" id="spinner"></div>
  <span id="status-text">Ladowanie listy Pok&eacute;mon&oacute;w...</span>
</div>

<!-- Skrypty JS (modularny, defer) — v5 cache-bust -->
<script defer src="js/config.js?v=12"></script>
<script defer src="js/i18n.js?v=12"></script>
<script defer src="js/types.js?v=12"></script>
<script defer src="js/data.js?v=12"></script>
<script defer src="js/state.js?v=12"></script>
<script defer src="js/favorites.js?v=12"></script>
<script defer src="js/team.js?v=12"></script>
<script defer src="js/evolution.js?v=12"></script>
<script defer src="js/weakness.js?v=12"></script>
<script defer src="js/battle.js?v=12"></script>
<script defer src="js/detail.js?v=12"></script>
<script defer src="js/calculator.js?v=12"></script>
<script defer src="js/pages.js?v=12"></script>
<script defer src="js/utils.js?v=12"></script>
<script defer src="js/app.js?v=12"></script>

<!-- Service Worker — wymuś aktualizację, usuń stary cache -->
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.getRegistrations().then(function(regs) {
    regs.forEach(function(r) { r.unregister(); });
  }).then(function() {
    caches.keys().then(function(keys) {
      keys.forEach(function(k) { caches.delete(k); });
    });
    navigator.serviceWorker.register('/service-worker.js').catch(function(){});
  });
}
</script>

</body>
</html>
