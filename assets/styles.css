/* ============================================================
   assets/styles.css — Layout fixes: Mobile overlap, Desktop 2-col, Nav
   Loaded AFTER responsive.css to apply overrides.
   Mobile-first native-app feel optimization.
   ============================================================ */

/* ═══════════════════════════════════════════════════════════
   1. MOBILE FIX — Viewport < 600px
   ═══════════════════════════════════════════════════════════ */
@media (max-width: 600px) {

  /* ── Build tab: fix "NAJLEPSZY WYBÓR" overlap ── */
  .build-tab {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    gap: 4px !important;
    padding: 8px 10px !important;
    text-align: center;
    line-height: 1.3;
    white-space: normal !important;
    word-break: break-word;
    min-height: 44px !important;
  }

  .best-choice-badge {
    display: block !important;
    margin-left: 0 !important;
    margin-top: 2px;
    font-size: 7px !important;
    width: fit-content;
    align-self: center;
  }

  .best-choice-star {
    font-size: 14px;
  }

  .build-tabs {
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    gap: 0 !important;
  }
  .build-tabs::-webkit-scrollbar { display: none; }

  /* ── Copy button: centered, full-width under section header ── */
  .comp-section .copy-link-btn {
    width: 100% !important;
    display: block !important;
    margin: 0 0 12px 0 !important;
    float: none !important;
    text-align: center;
    box-sizing: border-box;
    font-size: 16px;
    padding: 12px 14px;
    min-height: 44px;
  }

  /* ── Overflow prevention ── */
  .main-area,
  .comp-section,
  .moves-section,
  .iv-section,
  .calc-section,
  .cobblemon-section,
  .biome-section,
  .mc-panel,
  .build-panel,
  .welcome-card {
    overflow: hidden !important;
    max-width: 100vw;
    box-sizing: border-box;
  }

  .detail-grid {
    overflow: hidden;
  }

  /* Long move names: prevent layout break */
  .move-card-name,
  .move-table td,
  .move-name,
  .item-big-name,
  .item-alt-name,
  .ability-name,
  .comp-box-title {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    word-break: break-word !important;
    min-width: 0 !important;
  }

  .move-card {
    overflow: hidden;
    min-width: 0;
  }

  .move-card-meta {
    flex-wrap: wrap !important;
    gap: 4px !important;
  }

  .best4-grid {
    grid-template-columns: 1fr !important;
    gap: 6px;
  }

  .comp-grid {
    grid-template-columns: 1fr !important;
    gap: 8px;
  }

  .item-layout {
    flex-direction: column !important;
  }

  /* Move table scroll container */
  .move-table {
    display: block;
    max-width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Stat bars: tighter on small screens */
  .stat-row {
    flex-wrap: nowrap;
  }
  .stat-name {
    width: 60px;
    font-size: 13px;
    flex-shrink: 0;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .stat-val {
    font-size: 17px !important;
  }

  /* ── Panele: native-app padding ── */
  .mc-panel {
    padding: 12px 10px !important;
    border-radius: 10px;
  }
}

/* ═══════════════════════════════════════════════════════════
   2. DESKTOP 2-COLUMN LAYOUT — Viewport > 1024px
   ═══════════════════════════════════════════════════════════ */
@media (min-width: 1025px) {

  /* ── Two-column grid for detail page sections ── */
  .detail-desktop-grid {
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: 20px;
    align-items: start;
  }

  .detail-col-left,
  .detail-col-right {
    min-width: 0; /* prevent grid blowout */
  }

  /* ── IV bars: constrain width on large screens ── */
  .iv-slider-row {
    max-width: 420px;
    min-width: 200px;
  }

  .iv-row {
    max-width: 460px;
  }

  .iv-stat-header {
    max-width: 420px;
  }

  .iv-stat-meta {
    max-width: 420px;
  }

  /* ── Calculator sliders also constrained ── */
  .calc-slider-row {
    max-width: 420px;
    min-width: 200px;
  }

  .calc-box .iv-stat-header {
    max-width: 420px;
  }

  /* ── IV value at 0: ensure thumb remains visible ── */
  .iv-slider-row input[type="range"][value="0"],
  .calc-slider-row input[type="range"][value="0"] {
    --iv-pct: 1%;
  }

  /* ── Competitive grid: better use of space ── */
  .comp-grid {
    grid-template-columns: 1fr 1fr !important;
    gap: 12px;
  }

  .best4-grid {
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  /* ── Copy button inline on desktop ── */
  .comp-section .copy-link-btn {
    float: right;
    margin-bottom: 10px;
  }

  /* ── Calculator section: full width spanning both columns ── */
  .calc-section {
    grid-column: 1 / -1;
  }

  /* ── Cobblemon section full width ── */
  .cobblemon-section {
    grid-column: 1 / -1;
  }
}


/* ═══════════════════════════════════════════════════════════
   3. NAVIGATION BAR — Desktop & Mobile
   ═══════════════════════════════════════════════════════════ */

/* ── Desktop: single line nav ── */
@media (min-width: 769px) {
  header {
    flex-wrap: nowrap;
    align-items: center;
  }

  .header-right {
    display: flex !important;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
    margin-left: auto;
  }

  .hamburger-btn {
    display: none !important;
  }

  .lang-toggle {
    margin-left: 0;
    flex-shrink: 0;
  }
}

/* ── Mobile nav: poziome przewijanie z snap ── */
@media (max-width: 768px) {
  .header-right.mobile-open {
    display: flex !important;
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    gap: 6px;
    width: 100%;
    padding: 8px 0 6px;
    scrollbar-width: none;
    -ms-overflow-style: none;
    scroll-snap-type: x mandatory;
  }
  .header-right.mobile-open::-webkit-scrollbar { display: none; }

  .header-right.mobile-open .mc-badge {
    display: none;
  }

  .header-right.mobile-open .mc-btn {
    flex-shrink: 0;
    min-width: 120px;
    min-height: 44px;
    justify-content: center;
    text-align: center;
    font-size: 14px;
    padding: 10px 14px;
    box-sizing: border-box;
    white-space: nowrap;
    scroll-snap-align: start;
  }

  /* Single-column header badges always hidden on mobile */
  .header-right .mc-badge {
    display: none;
  }
}

/* ── Very small phones ── */
@media (max-width: 400px) {
  .header-right.mobile-open .mc-btn {
    min-width: 110px;
    font-size: 13px;
    padding: 10px 10px;
  }

  .build-tab {
    font-size: 12px !important;
    padding: 6px 6px !important;
  }
}
